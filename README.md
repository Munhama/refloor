# Калькулятор напольных покрытий

**Тестовое задание для компании Refloor**

Интерактивное приложение для расчёта материалов напольного покрытия и итоговой стоимости в зависимости от параметров комнаты, выбранного покрытия, способа укладки и дополнительных элементов.

---

## Функциональные возможности

✅ Выбор типа покрытия (все типы, их стоимость и площадь упаковки задаются в БД)

✅ Выбор способа укладки (процент запаса задается в БД)

✅ Расчёт площади комнаты в реальном времени

✅ Поддержка **сложной формы помещения** — добавление дополнительных прямоугольных сегментов

✅ Учёт **плинтуса** и дверных проёмов

✅ Автоматический перерасчёт при любом изменении данных

✅ Расчет количества упаковок и полной площади материала

✅ Вывод итоговой стоимости материалов

---

## Технологический стек

### Frontend

- React

- Vite

- JavaScript

### Backend

- Node.js + Express.js

- REST API

### Database

- PostgreSQL

### DevOps & Tools

- Docker / Docker Compose

- Adminer для просмотра БД

---

## Установка и запуск

> Требуется установленный **Docker**

### 1️⃣ Клонируем репозиторий

```
git clone git@github.com:Munhama/refloor.git
cd refloor
```

### 2️⃣ Создаём файл переменных окружения

В корне проекта есть файл .env.example.

Скопируйте его в .env перед запуском:

```
cp .env.example .env
```

### 3️⃣ Запускаем проект

```
docker compose up --build -d
```

При первом запуске БД автоматически создаст таблицы и заполнит их начальными данными из папки `DB`.

---

## Доступные сервисы

| Сервис               | URL                                 | Описание                            |
| -------------------- | ----------------------------------- | ----------------------------------- |
| Frontend             | http://localhost:5173               | Клиентское приложение               |
| Backend health-check | http://localhost:3000/api/health    | Проверка состояния сервера          |
| Материалы            | http://localhost:3000/api/materials | Получение списка типов покрытия     |
| Способы укладки      | http://localhost:3000/api/patterns  | Получение списка вариантов укладки  |
| Плинтусы             | http://localhost:3000/api/skirting  | Получение списка вариантов плинтуса |
| Adminer              | http://localhost:8081               | GUI для работы с БД                 |

---

## Логика работы калькулятора

1. Пользователь выбирает тип покрытия и способ укладки

2. Вводит размеры комнаты:

- Прямоугольная форма

- Возможность добавлять дополнительные сегменты для сложной формы

3. При необходимости:

- Учитывается плинтус

- Добавляются двери

4. Все изменения пересчитываются **в реальном времени**, без перезагрузки страницы

5. Отображаются результаты:

- Площадь помещения

- Процент и площадь запаса

- Количество упаковок

- Общая площадь материала к покупке (округление вверх)

- Стоимость материалов напольного покрытия

- Опционально длина плинтуса, количество штук и стоимость

- Итоговая стоимость покрытия и плинтуса

---

## Структура проекта (кратко)

/client — интерфейс

/server — серверная логика и API

/DB — скрипты инициализации БД

.env.example — пример констант для подключения к БД

docker-compose.yml

README.md
